# SpecterScan â€” Streamlit App

All-in-one legal contract risk analysis: **Frontend + Backend + ML** in a single Streamlit app.

## ğŸ“ Folder Structure

```
streamlit_app/
â”œâ”€â”€ app.py                         # Main Streamlit app (frontend + backend)
â”œâ”€â”€ train_model.py                 # Model training script
â”œâ”€â”€ legal_risk_classifier.pkl      # Trained classifier (generated by train_model.py)
â”œâ”€â”€ requirements.txt               # Python dependencies
â””â”€â”€ README.md                      # This file
```

## ğŸš€ Quick Start

### 1. Install Dependencies

```bash
cd streamlit_app
pip install -r requirements.txt
python -m spacy download en_core_web_sm
```

### 2. Train the Model (optional â€” pre-trained model included)

```bash
python train_model.py
```

This reads `../legal_docs_cleaned.csv` and outputs `legal_risk_classifier.pkl`.

### 3. Run the App

```bash
streamlit run app.py
```

Open **http://localhost:8501** in your browser.

## ğŸ§  How It Works

1. **Models load once** on startup (cached with `@st.cache_resource`):
   - `sentence-transformers/all-MiniLM-L6-v2` â€” sentence embeddings
   - `legal_risk_classifier.pkl` â€” trained LogisticRegression
   - `en_core_web_sm` â€” spaCy sentence segmentation

2. **Upload** a `.pdf` or `.txt` contract file

3. **Analysis Pipeline**:
   - Extract text (PyPDF2 / UTF-8 decode)
   - Segment into clauses (spaCy)
   - Embed each clause (SentenceTransformer â†’ 384-dim vector)
   - Predict risk (LogisticRegression â†’ 0 or 1)

4. **Results View** shows:
   - Document with risky clauses highlighted in red
   - Side panel with flagged clause cards
   - Summary statistics

## â˜ï¸ Deploy to Streamlit Cloud

1. Push this folder to a GitHub repo
2. Go to [share.streamlit.io](https://share.streamlit.io)
3. Point to `streamlit_app/app.py`
4. Add `python -m spacy download en_core_web_sm` in a `packages.txt` or use a setup script
